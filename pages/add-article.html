<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/src/img/logo.png">
    <title>Thêm bài viết - Admin</title>
    <link rel="stylesheet" href="../src/css/main.css">
    <link rel="stylesheet" href="../src/css/components/toast.css">
</head>

<body class="font-inter-tight text-base min-h-screen flex flex-col">
    <!-- Header -->
    <header class="nav-energy sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <a href="/" class="nav-logo flex items-center gap-2">
                    <img src="/src/img/logo.png" alt="Logo" class="h-8">
                    <span class="font-display font-bold text-xl text-gray-900">Lamlib</span>
                </a>
                <span class="text-gray-300">|</span>
                <h1 class="text-lg font-semibold text-gray-900">Thêm bài viết</h1>
            </div>
            <div class="flex items-center gap-4">
                <a href="/" class="nav-link hidden md:block">Trang chủ</a>
                <a href="/pages/all-article.html" class="nav-link hidden md:block">Tất cả bài viết</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 p-6">
        <div class="max-w-4xl mx-auto">
            <!-- Toolbar -->
            <header class="flex justify-center gap-2 mb-6">
                <button id="tool-save" type="button" title="Lưu"
                    class="btn-energy btn-energy-outline py-2 px-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-9 11q1.25 0 2.125-.875T15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18m-6-8h9V6H6z" />
                    </svg>
                </button>
                <button id="tool-clear" type="button" title="Xoá"
                    class="btn-energy btn-energy-outline py-2 px-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z" />
                    </svg>
                </button>
                <button id="tool-preview" type="button" title="Chế độ đọc"
                    class="btn-energy btn-energy-outline py-2 px-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
                            <path d="M21.544 11.045c.304.426.456.64.456.955c0 .316-.152.529-.456.955C20.178 14.871 16.689 19 12 19c-4.69 0-8.178-4.13-9.544-6.045C2.152 12.529 2 12.315 2 12c0-.316.152-.529.456-.955C3.822 9.129 7.311 5 12 5c4.69 0 8.178 4.13 9.544 6.045" />
                            <path d="M15 12a3 3 0 1 0-6 0a3 3 0 0 0 6 0" />
                        </g>
                    </svg>
                    <svg class="hidden" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
                            <path d="M19.439 15.439a19.5 19.5 0 0 0 2.105-2.484c.304-.426.456-.64.456-.955c0-.316-.152-.529-.456-.955C20.178 9.129 16.689 5 12 5c-.908 0-1.77.155-2.582.418m-2.67 1.33c-2.017 1.36-3.506 3.195-4.292 4.297c-.304.426-.456.64-.456.955c0 .316.152.529.456.955C3.822 14.871 7.311 19 12 19c1.99 0 3.765-.744 5.253-1.747" />
                            <path d="M9.858 10A2.929 2.929 0 1 0 14 14.142M3 3l18 18" />
                        </g>
                    </svg>
                </button>
            </header>

            <!-- Editor -->
            <div id="editorjs" class="bg-white rounded-xl border border-gray-100 p-6 min-h-[400px]"></div>
        </div>
    </main>

    <!-- Save Modal -->
    <div id="saveModal" class="fixed inset-0 bg-gray-900/50 flex items-center justify-center z-50 hidden">
        <form name="save" class="bg-white rounded-xl shadow-xl p-6 w-full max-w-md">
            <h2 class="text-xl font-semibold mb-6 text-gray-900">Lưu bài viết</h2>

            <label for="articleTitle" class="block mb-2 text-sm font-medium text-gray-700">Tiêu đề</label>
            <textarea id="articleTitle" name="articleTitle" rows="2"
                class="w-full rounded-lg p-3 mb-4 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"
                placeholder="Nhập tiêu đề bài viết..."></textarea>

            <label for="articleDescription" class="block mb-2 text-sm font-medium text-gray-700">Mô tả</label>
            <textarea id="articleDescription" name="articleDescription" rows="3"
                class="w-full rounded-lg p-3 mb-4 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"
                placeholder="Nhập mô tả ngắn..."></textarea>

            <label for="articleTags" class="block mb-2 text-sm font-medium text-gray-700">Tags</label>
            <input id="articleTags" name="articleTags" type="text"
                class="w-full rounded-lg p-3 mb-4 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
                placeholder="Nhập tags, cách nhau bởi dấu phẩy...">

            <label for="articleImage" class="block mb-2 text-sm font-medium text-gray-700">Ảnh nền</label>
            <div class="w-full mb-6">
                <label for="articleImage" class="block">
                    <div id="drop-area"
                        class="flex flex-col items-center justify-center border-2 border-dashed border-gray-200 rounded-lg p-6 cursor-pointer hover:border-red-400 transition">
                        <svg class="mb-3 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12 16.5q.425 0 .713-.288T13 15.5V7.925l2.3 2.3q.3.3.713.3t.713-.3q.3-.3.3-.713t-.3-.712l-3.6-3.6q-.3-.3-.713-.3t-.712.3l-3.6 3.6q-.3.3-.3.713t.3.712q.3.3.713.3t.712-.3l2.3-2.3V15.5q0 .425.288.713T12 16.5M6 20q-.825 0-1.413-.588T4 18q0-.825.588-1.413T6 16h12q.825 0 1.413.587T20 18q0 .825-.587 1.413T18 20z" />
                        </svg>
                        <span class="text-gray-500 text-sm">Kéo & thả ảnh vào đây hoặc <span class="text-red-500 underline">chọn ảnh</span></span>
                        <input type="file" id="articleImage" name="articleImage" accept="image/*" class="hidden">
                        <img id="previewImage" class="mt-3 max-h-40 hidden rounded-lg" alt="Xem trước ảnh">
                    </div>
                </label>
            </div>
            <input type="text" value="" name="thumbnail" id="thumbnail" class="hidden">

            <div class="flex justify-end gap-3">
                <button type="reset" id="cancelSave" class="btn-energy btn-energy-outline">Huỷ</button>
                <button type="submit" id="confirmSave" class="btn-energy btn-energy-primary">Lưu</button>
            </div>
        </form>
    </div>

    <!-- Footer -->
    <footer class="footer-energy py-12">
        <div class="max-w-6xl mx-auto px-6">
            <div class="footer-divider pt-8 flex justify-between items-center">
                <p class="footer-copyright">&copy; 2024 Lamlib. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script type="module" src="../src/js/main.js"></script>
    <script type="module" src="../src/js/add-article.js"></script>
</body>

</html>
